def encrypt(text, shift):
    """
    Encrypts text using Caesar Cipher with the given shift value.

    Args:
        text: The message to encrypt
        shift: Number of positions to shift each letter

    Returns:
        Encrypted text
    """
    result = ""

    for char in text:
        if char.isalpha():
            # Determine if uppercase or lowercase
            start = ord('A') if char.isupper() else ord('a')
            # Shift the character and wrap around using modulo
            shifted = (ord(char) - start + shift) % 26
            result += chr(start + shifted)
        else:
            # Keep non-alphabetic characters unchanged
            result += char

    return result


def decrypt(text, shift):
    """
    Decrypts text using Caesar Cipher with the given shift value.

    Args:
        text: The encrypted message to decrypt
        shift: Number of positions the letters were shifted

    Returns:
        Decrypted text
    """
    # Decrypting is just encrypting with negative shift
    return encrypt(text, -shift)


def brute_force(text):
    """
    Attempts all possible Caesar Cipher shifts (1-25) on the encrypted text.

    Args:
        text: The encrypted message

    Returns:
        None (prints all possibilities)
    """
    print("All possible decryptions:\n")
    for shift in range(1, 26):
        decrypted = decrypt(text, shift)
        print(f"Shift {shift:2d}: {decrypted}")


def main():
    """
    Main function to run the Caesar Cipher program.
    """
    print("=" * 50)
    print("         CAESAR CIPHER PROJECT")
    print("=" * 50)

    while True:
        print("\nChoose an option:")
        print("1. Encrypt a message")
        print("2. Decrypt a message")
        print("3. Brute force decrypt (try all shifts)")
        print("4. Exit")

        choice = input("\nEnter your choice (1-4): ")

        if choice == '1':
            message = input("Enter message to encrypt: ")
            shift = int(input("Enter shift value (1-25): "))
            encrypted = encrypt(message, shift)
            print(f"\nEncrypted message: {encrypted}")

        elif choice == '2':
            message = input("Enter message to decrypt: ")
            shift = int(input("Enter shift value (1-25): "))
            decrypted = decrypt(message, shift)
            print(f"\nDecrypted message: {decrypted}")

        elif choice == '3':
            message = input("Enter encrypted message: ")
            brute_force(message)

        elif choice == '4':
            print("\nThank you for using Caesar Cipher!")
            break

        else:
            print("\nInvalid choice! Please try again.")


# Run the program
if __name__ == "__main__":
    main()
